(()=>{var e={};e.id=165,e.ids=[165],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1354:(e,l,t)=>{"use strict";t.r(l),t.d(l,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>f,tree:()=>c});var a=t(9441),r=t(1498),s=t(6580),n=t.n(s),i=t(5511),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(l,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7123)),"/Users/mattlady/profitpeek-dashboard/apps/web/src/app/not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8205)),"/Users/mattlady/profitpeek-dashboard/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,7123)),"/Users/mattlady/profitpeek-dashboard/apps/web/src/app/not-found.tsx"]}],d=[],u="/_not-found",h={require:t,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/_not-found",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5388:(e,l,t)=>{Promise.resolve().then(t.bind(t,8073))},6657:(e,l,t)=>{Promise.resolve().then(t.bind(t,9056))},4276:(e,l,t)=>{Promise.resolve().then(t.t.bind(t,9489,23)),Promise.resolve().then(t.t.bind(t,6225,23)),Promise.resolve().then(t.t.bind(t,5964,23)),Promise.resolve().then(t.t.bind(t,5804,23)),Promise.resolve().then(t.t.bind(t,7255,23)),Promise.resolve().then(t.t.bind(t,1021,23))},8073:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>v});var a=t(7685),r=t(3100),s=t.n(r),n=t(2928);function i({children:e}){return a.jsx(n.w,{i18n:{Polaris:{Common:{checkbox:"checkbox",undo:"undo",cancel:"cancel",clear:"clear",submit:"submit",more:"more",search:"search",delete:"delete",edit:"edit",close:"close",remove:"remove",add:"add",save:"save",select:"select",confirm:"confirm",replace:"replace",view:"view",manage:"manage",copy:"copy",duplicate:"duplicate",refresh:"refresh",move:"move",filter:"filter",sort:"sort",searchPlaceholder:"Search",noResultsFound:"No results found",noResultsFor:'No results for "{{searchTerm}}"',clearAll:"Clear all",clearAllFilters:"Clear all filters",clearSelection:"Clear selection",clearFilters:"Clear filters",clearSearch:"Clear search",clearSort:"Clear sort",clearView:"Clear view",clearAllData:"Clear all data",clearAllSelections:"Clear all selections",clearAllFiltersAndSort:"Clear all filters and sort",clearAllFiltersAndSearch:"Clear all filters and search",clearAllFiltersAndView:"Clear all filters and view",clearAllFiltersAndData:"Clear all filters and data",clearAllSelectionsAndFilters:"Clear all selections and filters",clearAllSelectionsAndSort:"Clear all selections and sort",clearAllSelectionsAndView:"Clear all selections and view",clearAllSelectionsAndData:"Clear all selections and data",clearAllFiltersAndSortAndView:"Clear all filters, sort, and view",clearAllFiltersAndSortAndData:"Clear all filters, sort, and data",clearAllFiltersAndSearchAndView:"Clear all filters, search, and view",clearAllFiltersAndSearchAndData:"Clear all filters, search, and data",clearAllSelectionsAndFiltersAndSort:"Clear all selections, filters, and sort",clearAllSelectionsAndFiltersAndView:"Clear all selections, filters, and view",clearAllSelectionsAndFiltersAndData:"Clear all selections, filters, and data",clearAllSelectionsAndSortAndView:"Clear all selections, sort, and view",clearAllSelectionsAndSortAndData:"Clear all selections, sort, and data",clearAllSelectionsAndViewAndData:"Clear all selections, view, and data",clearAllFiltersAndSortAndViewAndData:"Clear all filters, sort, view, and data",clearAllSelectionsAndFiltersAndSortAndView:"Clear all selections, filters, sort, and view",clearAllSelectionsAndFiltersAndSortAndData:"Clear all selections, filters, sort, and data",clearAllSelectionsAndFiltersAndViewAndData:"Clear all selections, filters, view, and data",clearAllSelectionsAndSortAndViewAndData:"Clear all selections, sort, view, and data",clearAllSelectionsAndFiltersAndSortAndViewAndData:"Clear all selections, filters, sort, view, and data"}}},children:e})}t(7634);var o=t(5089),c=t(4882),d=t(8082),u=t(5969),h=t(9137),f=t(3859),p=t(4222),A=t(4374),m=t(7986);function x(){let e=(0,m.usePathname)(),{isAuthenticated:l,shop:t,logout:r}=(0,o.a)(),s=[{label:"Dashboard",icon:d.S,url:"/dashboard",selected:"/dashboard"===e},{label:"Orders",icon:u.S,url:"/orders",selected:"/orders"===e},{label:"Profit Analysis",icon:h.S,url:"/profit-analysis",selected:"/profit-analysis"===e},{label:"Daily Digest",icon:f.S,url:"/daily-digest",selected:"/daily-digest"===e},{label:"Settings",icon:p.S,url:"/settings",selected:"/settings"===e},{label:"Backfill",icon:f.S,url:"/backfill",selected:"/backfill"===e},{label:"Health",icon:A.S,url:"/health",selected:"/health"===e}];return a.jsx("nav",{role:"navigation","aria-label":"Main navigation",children:(0,a.jsxs)(c.W,{location:"/",children:[a.jsx(c.W.Section,{items:s.map(e=>({label:e.label,icon:e.icon,url:e.url,selected:e.selected,accessibilityLabel:`Navigate to ${e.label} page`}))}),l&&a.jsx(c.W.Section,{title:"Account",items:[{label:`Connected: ${t?.replace(".myshopify.com","")||"Unknown"}`,icon:p.S,onClick:()=>{},accessibilityLabel:`Connected to ${t}`},{label:"Logout",icon:p.S,onClick:r,accessibilityLabel:"Logout from current store"}]})]})})}var b=t(2085);function v({children:e}){return a.jsx("html",{lang:"en",children:(0,a.jsxs)("body",{className:s().className,children:[a.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},children:"Skip to main content"}),a.jsx(i,{children:a.jsx(o.H,{children:a.jsx(b.R,{children:(0,a.jsxs)("div",{style:{display:"flex",height:"100vh"},children:[a.jsx(x,{}),a.jsx("main",{id:"main-content",style:{flex:1,overflow:"auto"},children:e})]})})})})]})})}t(6570)},9056:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>h});var a=t(7685),r=t(3606),s=t(6967),n=t(9666),i=t(9501),o=t(4058),c=t(1722),d=t(2384),u=t.n(d);function h(){return a.jsx(r.T,{title:"Page Not Found",children:a.jsx(s.A,{children:a.jsx(s.A.Section,{children:a.jsx(n.Z,{children:(0,a.jsxs)(i.E,{gap:"400",align:"center",children:[a.jsx(o.x,{as:"h1",variant:"heading2xl",children:"404 - Page Not Found"}),a.jsx(o.x,{as:"p",variant:"bodyMd",tone:"subdued",children:"The page you're looking for doesn't exist."}),a.jsx(u(),{href:"/dashboard",children:a.jsx(c.z,{variant:"primary",children:"Go to Dashboard"})})]})})})})})}},5089:(e,l,t)=>{"use strict";t.d(l,{H:()=>n,a:()=>i});var a=t(7685),r=t(3810);let s=(0,r.createContext)(void 0);function n({children:e}){let[l,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0),h=process.env.NEXT_PUBLIC_API_URL||"http://localhost:5000";(0,r.useEffect)(()=>{f()},[]),(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search),l=e.get("authenticated"),a=e.get("shop");if(e.get("demo"),"true"===l&&a){t(!0),i(a),c("demo_access_token"),u(!1);let e=new URL(window.location.href);e.searchParams.delete("authenticated"),e.searchParams.delete("shop"),e.searchParams.delete("demo"),window.history.replaceState({},"",e.toString())}},[""]);let f=async()=>{try{let e=await fetch(`${h}/auth/verify`,{credentials:"include"});if(e.ok){let l=await e.json();l.authenticated&&(t(!0),i(l.shop),c(l.access_token))}}catch(e){console.error("Auth check failed:",e)}finally{u(!1)}},p=async()=>{try{await fetch(`${h}/auth/logout`,{method:"POST",credentials:"include"})}catch(e){console.error("Logout failed:",e)}finally{t(!1),i(null),c(null)}};return a.jsx(s.Provider,{value:{isAuthenticated:l,shop:n,accessToken:o,login:e=>{let l=e.includes(".myshopify.com")?e:`${e}.myshopify.com`;window.location.href=`${h}/auth/start?shop=${l}`},logout:p,loading:d},children:e})}function i(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8205:(e,l,t)=>{"use strict";t.r(l),t.d(l,{$$typeof:()=>s,__esModule:()=>r,default:()=>n});let a=(0,t(599).createProxy)(String.raw`/Users/mattlady/profitpeek-dashboard/apps/web/src/app/layout.tsx`),{__esModule:r,$$typeof:s}=a,n=a.default},7123:(e,l,t)=>{"use strict";t.r(l),t.d(l,{$$typeof:()=>s,__esModule:()=>r,default:()=>n});let a=(0,t(599).createProxy)(String.raw`/Users/mattlady/profitpeek-dashboard/apps/web/src/app/not-found.tsx`),{__esModule:r,$$typeof:s}=a,n=a.default},6570:()=>{}};var l=require("../webpack-runtime.js");l.C(e);var t=e=>l(l.s=e),a=l.X(0,[298],()=>t(1354));module.exports=a})();