(()=>{var e={};e.id=702,e.ids=[702],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7955:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o});var s=a(9441),r=a(1498),i=a(6580),n=a.n(i),d=a(5511),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);a.d(t,l);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2548)),"/Users/mattlady/profitpeek-dashboard/apps/web/src/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,8205)),"/Users/mattlady/profitpeek-dashboard/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,3250,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/mattlady/profitpeek-dashboard/apps/web/src/app/dashboard/page.tsx"],m="/dashboard/page",x={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8198:(e,t,a)=>{Promise.resolve().then(a.bind(a,1624))},9972:()=>{},4276:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,9489,23)),Promise.resolve().then(a.t.bind(a,6225,23)),Promise.resolve().then(a.t.bind(a,5964,23)),Promise.resolve().then(a.t.bind(a,5804,23)),Promise.resolve().then(a.t.bind(a,7255,23)),Promise.resolve().then(a.t.bind(a,1021,23))},1624:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(7685),r=a(3810);function i(){let[e,t]=(0,r.useState)(null),[a,i]=(0,r.useState)(!0),[n,d]=(0,r.useState)(null),l="profitpeekteststore.myshopify.com";return((0,r.useEffect)(()=>{(async()=>{try{i(!0);let e=await fetch(`https://profitpeek-dashboard.onrender.com/api/dashboard?shop=${l}`);if(!e.ok)throw Error("Failed to fetch dashboard data");let a=await e.json();t(a)}catch(e){console.log("Backend not available, using mock data"),t({message:"Dashboard data (Mock)",shop:l,metrics:{total_revenue:12500.5,total_orders:45,average_order_value:277.79,orders_by_status:{paid:38,pending:5,partially_paid:2}},recent_orders:[{id:1001,name:"#1001",total_price:"299.99",financial_status:"paid",created_at:new Date().toISOString(),customer:{first_name:"John",last_name:"Doe"}},{id:1002,name:"#1002",total_price:"149.50",financial_status:"pending",created_at:new Date(Date.now()-864e5).toISOString(),customer:{first_name:"Jane",last_name:"Smith"}},{id:1003,name:"#1003",total_price:"89.99",financial_status:"paid",created_at:new Date(Date.now()-1728e5).toISOString(),customer:{first_name:"Bob",last_name:"Johnson"}},{id:1004,name:"#1004",total_price:"425.00",financial_status:"paid",created_at:new Date(Date.now()-2592e5).toISOString(),customer:{first_name:"Sarah",last_name:"Wilson"}},{id:1005,name:"#1005",total_price:"199.99",financial_status:"partially_paid",created_at:new Date(Date.now()-3456e5).toISOString(),customer:{first_name:"Mike",last_name:"Brown"}}],last_updated:new Date().toISOString()})}finally{i(!1)}})()},[]),a)?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"loading-spinner mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading ProfitPeek Dashboard..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"header-gradient",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:"\uD83D\uDCCA ProfitPeek Dashboard"}),(0,s.jsxs)("p",{className:"text-xl opacity-90",children:["Real-time profit tracking for ",e?.shop]}),(0,s.jsxs)("p",{className:"text-sm opacity-75 mt-1",children:["Last updated: ",new Date(e?.last_updated||"").toLocaleString()]})]}),s.jsx("div",{className:"text-right",children:(0,s.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-white bg-opacity-20 rounded-full text-sm font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),"Live Data"]})})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&(0,s.jsxs)("div",{className:"alert alert-warning",children:[s.jsx("strong",{children:"\uD83C\uDFAF Demo Mode:"})," Using sample data. Connect your Shopify store for live data."]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[(0,s.jsxs)("div",{className:"metric-card gradient-success",children:[s.jsx("h3",{children:"\uD83D\uDCB0 Total Revenue"}),(0,s.jsxs)("p",{children:["$",e?.metrics.total_revenue.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"metric-card gradient-bg",children:[s.jsx("h3",{children:"\uD83D\uDCE6 Total Orders"}),s.jsx("p",{children:e?.metrics.total_orders})]}),(0,s.jsxs)("div",{className:"metric-card gradient-warning",children:[s.jsx("h3",{children:"\uD83D\uDCC8 Average Order Value"}),(0,s.jsxs)("p",{children:["$",e?.metrics.average_order_value.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"card p-8 mb-12",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center",children:[s.jsx("span",{className:"text-4xl mr-3",children:"\uD83D\uDCCA"}),"Orders by Status"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:e?.metrics.orders_by_status&&Object.entries(e.metrics.orders_by_status).map(([e,t])=>(0,s.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 hover:border-blue-300 transition-all duration-300",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 capitalize mb-2",children:e.replace("_"," ")}),s.jsx("p",{className:"text-4xl font-bold text-blue-600",children:t})]},e))})]}),(0,s.jsxs)("div",{className:"card p-8",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center",children:[s.jsx("span",{className:"text-4xl mr-3",children:"\uD83D\uDECD️"}),"Recent Orders"]}),s.jsx("div",{className:"data-table",children:(0,s.jsxs)("table",{className:"min-w-full",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"Order"}),s.jsx("th",{children:"Customer"}),s.jsx("th",{children:"Total"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Date"})]})}),s.jsx("tbody",{children:e?.recent_orders.map(e=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"font-semibold text-gray-900",children:e.name}),s.jsxs("td",{className:"text-gray-700",children:[e.customer?.first_name," ",e.customer?.last_name]}),s.jsxs("td",{className:"font-semibold text-gray-900",children:["$",parseFloat(e.total_price).toFixed(2)]}),s.jsx("td",{children:s.jsx("span",{className:`status-badge status-${e.financial_status}`,children:e.financial_status.replace("_"," ")})}),s.jsx("td",{className:"text-gray-600",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]}),(0,s.jsxs)("div",{className:"mt-12 text-center space-x-4",children:[s.jsx("a",{href:"/",className:"btn btn-secondary",children:"← Back to Home"}),s.jsx("a",{href:"/profit-analysis",className:"btn btn-primary",children:"View Detailed Profit Analysis →"})]})]})]})}},7685:(e,t,a)=>{"use strict";e.exports=a(943).vendored["react-ssr"].ReactJsxRuntime},2548:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let s=(0,a(599).createProxy)(String.raw`/Users/mattlady/profitpeek-dashboard/apps/web/src/app/dashboard/page.tsx`),{__esModule:r,$$typeof:i}=s,n=s.default},8205:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>r});var s=a(6491);a(5556);let r={title:"ProfitPeek - Real-Time Profit Dashboard",description:"Real-time profit dashboard for Shopify merchants"};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}},5556:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[99],()=>a(7955));module.exports=s})();